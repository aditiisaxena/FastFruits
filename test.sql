CREATE DATABASE FastFruits;
USE FastFruits;
CREATE TABLE Customers(cID int NOT NULL AUTO_INCREMENT, first_name varchar(255) NOT NULL, middle_name varchar(255), last_name varchar(255), age int NOT NULL, gender varchar(255), email varchar(255) NOT NULL, phone bigint NOT NULL, street varchar(255) NOT NULL, city varchar(255) NOT NULL, states varchar(255) NOT NULL, pincode int NOT NULL, subscription boolean NOT NULL, PRIMARY KEY(cID, email, phone));
CREATE TABLE Suppliers(supID int NOT NULL AUTO_INCREMENT, first_name varchar(255) NOT NULL, middle_name varchar(255), last_name varchar(255), phone bigint NOT NULL, street varchar(255) NOT NULL, city varchar(255) NOT NULL, states varchar(255) NOT NULL, pincode int NOT NULL, PRIMARY KEY(supID, phone));
CREATE TABLE Warehouse(mID int NOT NULL, wID int NOT NULL, street varchar(255) NOT NULL, city varchar(255) NOT NULL, states varchar(255) NOT NULL, pincode int NOT NULL, capacity int, PRIMARY KEY(pincode, mID, wID));
CREATE TABLE Fruits(fID int NOT NULL AUTO_INCREMENT, name varchar(255) NOT NULL, price int NOT NULL, quantity int NOT NULL, addedDate varchar(255) NOT NULL, expiryDate varchar(255) NOT NULL, PRIMARY KEY(fID));
CREATE TABLE RawFruits(rId int NOT NULL AUTO_INCREMENT, fID int NOT NULL, name varchar(255) NOT NULL, price int NOT NULL, quantity int NOT NULL, addedDate varchar(255) NOT NULL, expiryDate varchar(255) NOT NULL, PRIMARY KEY(rId), FOREIGN KEY(fID) REFERENCES Fruits(fID));
CREATE TABLE Smoothies(smID int NOT NULL AUTO_INCREMENT, fID int NOT NULL, name varchar(255) NOT NULL, price int NOT NULL, quantity int NOT NULL, addedDate varchar(255) NOT NULL, expiryDate varchar(255) NOT NULL, PRIMARY KEY(smID), FOREIGN KEY(fID) REFERENCES Fruits(fID));
CREATE TABLE Salad(slID int NOT NULL AUTO_INCREMENT, fID int NOT NULL, name varchar(255) NOT NULL, price int NOT NULL, quantity int NOT NULL, addedDate varchar(255) NOT NULL, expiryDate varchar(255) NOT NULL, PRIMARY KEY(slID), FOREIGN KEY(fID) REFERENCES Fruits(fID));
CREATE TABLE DarkStores(dID int NOt NULL AUTO_INCREMENT, pincode int NOT NULL, rID int NOT NULL, smID int NOT NULL, slID int NOT NULL, wID int NOT NULL, PRIMARY KEY(dID, pincode), FOREIGN KEY(rID) REFERENCES RawFruits(rID), FOREIGN KEY(smID) REFERENCES Smoothies(smID), FOREIGN KEY(slID) REFERENCES Salad(slID), FOREIGN KEY(wID) REFERENCES Warehouse(wID));
CREATE TABLE Orders(oID int NOT NULL AUTO_INCREMENT, cID int NOT NULL, dID int NOT NULL, orderDate varchar(255) NOT NULL, shippedDate varchar(255) NOT NULL, amount int NOT NULL, mode varchar(255) NOT NULL, PRIMARY KEY(oID), FOREIGN KEY(cID) REFERENCES Customers(cID), FOREIGN KEY(dID) REFERENCES DarkStores(dID));
CREATE TABLE Cart(cID int NOT NULL, rID int, q1 int, slID, int, q2 int, smID int, q3 int, PRIMARY KEY(cID), FOREIGN KEY(rID) REFERENCES RawFruits(rID), FOREIGN KEY(slID) REFERENCES Salad(slID), FOREIGN KEY(smID) REFERENCES Smoothies(smID));
CREATE TABLE subscription(cID int NOT NULL,rID int, smID int , slID int, PRIMARY KEY(cID));
CREATE TABLE Smoothies_Ingredients(smID int NOT NULL, fID int NOT NULL, FOREIGN KEY(smID) REFERENCES Smoothies(smID), FOREIGN KEY(fID) REFERENCES Fruits(fID));
CREATE TABLE Salad_Ingredients(slID int NOT NULL, fID int NOT NULL, FOREIGN KEY(slID) REFERENCES Salad(slID), FOREIGN KEY(fID) REFERENCES Fruits(fID));
CREATE TABLE DarkStore_Inventory(dID int NOT NULL, fID int NOT NULL, quantity int NOT NULL, FOREIGN KEY(dID) REFERENCES DarkStores(dID), FOREIGN KEY(fID) REFERENCES Fruits(fID));